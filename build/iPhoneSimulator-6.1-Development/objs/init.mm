extern "C" {
    void ruby_sysinit(int *, char ***);
    void ruby_init(void);
    void ruby_init_loadpath(void);
    void ruby_script(const char *);
    void ruby_set_argv(int, char **);
    void rb_vm_init_compiler(void);
    void rb_vm_init_jit(void);
    void rb_vm_aot_feature_provide(const char *, void *);
    void *rb_vm_top_self(void);
    void rb_rb2oc_exc_handler(void);
    void rb_exit(int);
void MREP_B23ECD558F9E4B8CBB11B0EFBB6A090F(void *, void *);
void MREP_E74CD5C9331B476FB37308CC97AD6FCA(void *, void *);
void MREP_EAADF305621C46F6AF54A2EE9A115645(void *, void *);
void MREP_8BFE5FB8E26B47189630962CC56AB990(void *, void *);
void MREP_CB4A11F3B36B4938A334D75E1E41553B(void *, void *);
void MREP_0F196FCFA24540C98F0C96A9FC58CCE4(void *, void *);
void MREP_8B60BE6C98664134A28337D0AF296246(void *, void *);
void MREP_F6A41BC7207E477E935C932DC24E3903(void *, void *);
void MREP_21EEE4FE7FC8443CB59476853EFBB4C7(void *, void *);
void MREP_03DC4C84E09C41828BFB82C02895F730(void *, void *);
void MREP_BDC9DDA943A04657A9F174E785F49B6A(void *, void *);
void MREP_F453C6D921274B12AF8D1241B4AD34A8(void *, void *);
void MREP_92ED5957FF4E449FAEAE383AF1ED136B(void *, void *);
void MREP_BBECDA9AFA3444EAAF58674D5B61BB2A(void *, void *);
void MREP_2AB5E7C267B6445684D6301553F81EE2(void *, void *);
void MREP_FF60D165388741E280B0B2E5F91F241E(void *, void *);
void MREP_47756B8E3AE0407B834C0D6873A6145E(void *, void *);
void MREP_5B3256C93BC74F14B6CB8E71C99CFBD3(void *, void *);
void MREP_A51F2698E0734426AE0E40FF43748EB4(void *, void *);
void MREP_F15C1ADE66EA4D758786F437481B935C(void *, void *);
void MREP_64C78B9EE3774C4CB6F60A85498FCBB9(void *, void *);
void MREP_767458D31BE8451EB968AF7D66DB489D(void *, void *);
void MREP_CC83B47905E64A9796BD5A4C4916FC0D(void *, void *);
void MREP_A55E996F849B42259CF91348F404055A(void *, void *);
void MREP_23E7FA2494A1405B8B8CF621001CB752(void *, void *);
void MREP_CAE6C74DCF9345F79D2EEA94BF20BA0F(void *, void *);
void MREP_8CF8ECAC1DD34EC4B07A36DDAE07DA8F(void *, void *);
void MREP_3AA2FEC383F9491AA6C3C94DF4B6060F(void *, void *);
void MREP_5630989C47154D29971D08ECF8FF919B(void *, void *);
void MREP_5908C918E57A4200880A090ADD05A69B(void *, void *);
void MREP_A915E89086334A5B9347334AE8114C66(void *, void *);
void MREP_0BA9EB104F5E4D549F1640CD592705CB(void *, void *);
void MREP_9BBCEDA163044E4989DDE91B121C29A7(void *, void *);
void MREP_040ADA6B484D4E4097B60AA19EBD09C9(void *, void *);
void MREP_242DA53D51FC47139BE18D9CE840BCBC(void *, void *);
void MREP_9AA29DE9EB5A4123AA0CB5701B2EF07D(void *, void *);
void MREP_6BB22BB1D3F141A2BD6292906C8825BB(void *, void *);
void MREP_BAEAA2370F3345FD8A533860799AE9B9(void *, void *);
void MREP_F71E5DCECF394A8EBBCD680CB8EA01DE(void *, void *);
void MREP_5D0F57A09E1D49EDB1085C673753F0BD(void *, void *);
void MREP_DBA56C20D92345C9874D67C9554D173B(void *, void *);
void MREP_71745BB471434CA4B79C02F98C642828(void *, void *);
void MREP_FAB3DD2E489A4A4B82FA2D74E5135214(void *, void *);
void MREP_D42CA584342346EBA907E3C6104431EB(void *, void *);
void MREP_4D32E6D6D25D45D19A461C3D6902BB96(void *, void *);
void MREP_42BD257257D745B1B82BC9341DC5AE04(void *, void *);
void MREP_0A36B71DE05246079CE0F3292B3878B3(void *, void *);
void MREP_1EE98A9FF6B34E77AE1F0472EEAE8C71(void *, void *);
}

extern "C"
void
RubyMotionInit(int argc, char **argv)
{
    static bool initialized = false;
    if (!initialized) {
	ruby_init();
	ruby_init_loadpath();
        if (argc > 0) {
	    const char *progname = argv[0];
	    ruby_script(progname);
	}
#if !__LP64__
	try {
#endif
	    void *self = rb_vm_top_self();
MREP_B23ECD558F9E4B8CBB11B0EFBB6A090F(self, 0);
MREP_E74CD5C9331B476FB37308CC97AD6FCA(self, 0);
MREP_EAADF305621C46F6AF54A2EE9A115645(self, 0);
MREP_8BFE5FB8E26B47189630962CC56AB990(self, 0);
MREP_CB4A11F3B36B4938A334D75E1E41553B(self, 0);
MREP_0F196FCFA24540C98F0C96A9FC58CCE4(self, 0);
MREP_8B60BE6C98664134A28337D0AF296246(self, 0);
MREP_F6A41BC7207E477E935C932DC24E3903(self, 0);
MREP_21EEE4FE7FC8443CB59476853EFBB4C7(self, 0);
MREP_03DC4C84E09C41828BFB82C02895F730(self, 0);
MREP_BDC9DDA943A04657A9F174E785F49B6A(self, 0);
MREP_F453C6D921274B12AF8D1241B4AD34A8(self, 0);
MREP_92ED5957FF4E449FAEAE383AF1ED136B(self, 0);
MREP_BBECDA9AFA3444EAAF58674D5B61BB2A(self, 0);
MREP_2AB5E7C267B6445684D6301553F81EE2(self, 0);
MREP_FF60D165388741E280B0B2E5F91F241E(self, 0);
MREP_47756B8E3AE0407B834C0D6873A6145E(self, 0);
MREP_5B3256C93BC74F14B6CB8E71C99CFBD3(self, 0);
MREP_A51F2698E0734426AE0E40FF43748EB4(self, 0);
MREP_F15C1ADE66EA4D758786F437481B935C(self, 0);
MREP_64C78B9EE3774C4CB6F60A85498FCBB9(self, 0);
MREP_767458D31BE8451EB968AF7D66DB489D(self, 0);
MREP_CC83B47905E64A9796BD5A4C4916FC0D(self, 0);
MREP_A55E996F849B42259CF91348F404055A(self, 0);
MREP_23E7FA2494A1405B8B8CF621001CB752(self, 0);
MREP_CAE6C74DCF9345F79D2EEA94BF20BA0F(self, 0);
MREP_8CF8ECAC1DD34EC4B07A36DDAE07DA8F(self, 0);
MREP_3AA2FEC383F9491AA6C3C94DF4B6060F(self, 0);
MREP_5630989C47154D29971D08ECF8FF919B(self, 0);
MREP_5908C918E57A4200880A090ADD05A69B(self, 0);
MREP_A915E89086334A5B9347334AE8114C66(self, 0);
MREP_0BA9EB104F5E4D549F1640CD592705CB(self, 0);
MREP_9BBCEDA163044E4989DDE91B121C29A7(self, 0);
MREP_040ADA6B484D4E4097B60AA19EBD09C9(self, 0);
MREP_242DA53D51FC47139BE18D9CE840BCBC(self, 0);
MREP_9AA29DE9EB5A4123AA0CB5701B2EF07D(self, 0);
MREP_6BB22BB1D3F141A2BD6292906C8825BB(self, 0);
MREP_BAEAA2370F3345FD8A533860799AE9B9(self, 0);
MREP_F71E5DCECF394A8EBBCD680CB8EA01DE(self, 0);
MREP_5D0F57A09E1D49EDB1085C673753F0BD(self, 0);
MREP_DBA56C20D92345C9874D67C9554D173B(self, 0);
MREP_71745BB471434CA4B79C02F98C642828(self, 0);
MREP_FAB3DD2E489A4A4B82FA2D74E5135214(self, 0);
MREP_D42CA584342346EBA907E3C6104431EB(self, 0);
MREP_4D32E6D6D25D45D19A461C3D6902BB96(self, 0);
MREP_42BD257257D745B1B82BC9341DC5AE04(self, 0);
MREP_0A36B71DE05246079CE0F3292B3878B3(self, 0);
MREP_1EE98A9FF6B34E77AE1F0472EEAE8C71(self, 0);
#if !__LP64__
	}
	catch (...) {
	    rb_rb2oc_exc_handler();
	}
#endif
	initialized = true;
    }
}
